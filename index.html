<!DOCTYPE html>
<html>
  <body>
    <ul id="messages"></ul>
    <input id="m" autocomplete="off" /><button>Send</button>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io();
      var input = document.getElementById("m");
      document.querySelector("button").onclick = function () {
        socket.emit("chat message", input.value);
        input.value = "";
      };
      socket.on("chat message", function (msg) {
        var li = document.createElement("li");
        li.textContent = msg;
        document.getElementById("messages").appendChild(li);
      });
    </script>
  </body>
</html>
